@*<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">*@
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f8f9fa;
    }

    .header {
        background-color: #eceff1;
        padding: 10px;
        border-bottom: 2px solid #ccc;
    }

        .header .row div {
            text-align: center;
        }

    .content {
        padding: 15px;
        border: 1px solid #ccc;
        border-radius: 5px;
        background-color: #fff;
        position: relative;
    }

        .content textarea {
            border: none;
            width: 100%;
            height: 300px;
            resize: none;
            font-size: 20px;
            background-color: transparent;
        }

    .pen-img {
        position: absolute;
        bottom: 20px;
        right: 20px;
    }

    .footer {
        text-align: center;
        padding: 10px;
        background-color: #eceff1;
        border-top: 2px solid #ccc;
        font-size: 12px;
    }

    .tools {
        margin-top: 10px;
    }

        .tools button {
            margin: 0 5px;
        }

    .uppertools {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: #ebeff1;
    }

    .firstlayertool {
        display: flex;
        flex-direction: column;
        flex: 1;
    }

    .secondlayertool {
        display: flex;
        flex-direction: column;
    }

    .layerTop {
        display: flex;
        margin-bottom: 10px;
    }

    .layerbottom {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .secondlayertool {
        display: flex;
        flex-direction: column;
        flex: 5;
    }

    .layerinput {
        display: flex;
        width: 100%;
        justify-content: center;
        align-items: center;
    }

        .layerinput .singletextarea {
            display: flex;
            width: 100%;
        }

    .secondlayertool .layerTop .toplayer:first-child {
        display: flex;
        flex: 3;
    }

    .thirdayertool {
        display: flex;
        justify-content: center;
        align-items: center;
        flex: 1;
    }

    .layerbottom .toplayer {
        display: flex;
        flex-direction: column;
        flex: 1;
    }

    .secondlayertool .layerTop .toplayer {
        display: flex;
        flex-direction: column;
        flex: 1;
        justify-content: center;
        align-items: center;
        padding: 0px 5px;
        border: 2px solid #f5f5f5;
        border-radius: 10px;
        margin: 0px 5px;
    }

    .toplayer {
        padding: 0px 5px;
        border: 2px solid #f5f5f5;
        border-radius: 10px;
        margin: 0px 5px;
        display: flex;
        flex-direction: column;
        width: 100%;
        justify-content: center;
        align-items: center;
    }

    .middletools {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        background-color: #fff;
    }

        .middletools .middlefirstlayer {
            display: flex;
        }

    .docnamesmall {
        display: flex;
        font-size: 8px;
    }

    p.mainHeading {
        display: flex;
        margin: 0px;
    }

    p.subheading {
        display: flex;
        margin: 0px;
        font-size: 10px;
    }

    .writtingpad {
        width: 100% !important;
    }

    .toplayer .layerLabel {
        font-size: 12px;
    }

    /* Media query for extra small devices (<576px) */
    @@media (max-width: 575px) {
        .toplayer .layerLabel {
            font-size: 8px;
        }

        .writtingpad {
            width: 100% !important;
            height: 60vh;
        }

        .btn-icon {
            font-size: 8px;
        }

        .toplayer {
            margin: 0px 1px;
        }
    }
</style>
<style>
    .pageDetailhead {
        background-color: lightgray !important; /* Default color */
        padding: 10px 20px;
        border: none;
        cursor: pointer;
    }

    .active-btn {
        background-color: blue !important; /* Active color */
        color: white;
    }

    html, body {
        margin: 0;
        padding: 0;
    }

    .card {
        position: relative;
    }

    .card-header.myfixheader {
        position: sticky;
        top: 0px;
        z-index: 9;
        background-color: #fff;
        border-bottom: 1px solid #333;
        display: flex;
        flex-direction: column;
        margin-top: 0; /* Ensure there's no margin from the top */
        padding-top: 0; /* Remove any padding causing the offset */
        padding-bottom: 5px;
    }

    .p-0 {
        padding: 0px !important;
    }

    .m-0 {
        margin: 0px !important;
    }

    .me-2 {
        margin-right: 0.5rem !important;
    }

    .py-0 {
        padding-left: 0px !important;
        padding-right: 0px !important;
    }

    #loader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5); /* Semi-transparent overlay */
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999; /* Ensures it stays on top */
        display: none; /* Initially hidden */
    }

        #loader img {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); /* Perfect centering */
            width: 100px; /* Adjust size as needed */
            height: auto;
        }



    #selectedDate {
        height: 70px; /* Adjust the height as needed */
        display: flex;
        align-items: center;
        justify-content: center;
        border: 1px solid #ccc; /* Optional: Add a border */
        background-color: blue; /* Optional: Set background color */
        cursor: pointer;
        border-radius: 5px; /* Optional: Add rounded corners */
    }

    .row:before, .row:after {
        content: unset;
    }

    .modal {
        z-index: 7777 !important; /* Set a higher value */
    }

    .modal-backdrop {
        z-index: 7776 !important; /* Ensure backdrop is behind the modal */
    }

    .ui-datepicker, .ui-timepicker-div {
        z-index: 9999 !important;
    }

    .col-md-5 {
        display: flex;
        align-items: center;
        gap: 10px; /* Optional: Adjust spacing between radio buttons */
    }

    #popover {
        position: absolute !important;
        z-index: 9999 !important;
        background: white;
        border: 1px solid #ccc;
        padding: 10px;
        display: none; /* Hidden by default */
    }

    .popover-menu {
        display: none;
        position: absolute;
        background: white;
        border: 1px solid #ccc;
        box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
        border-radius: 5px;
        padding: 10px;
        width: 120px;
        right: 10px;
        top: 30px;
        z-index: 1000;
    }

        .popover-menu ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
        }

            .popover-menu ul li {
                padding: 8px 12px;
                cursor: pointer;
            }

                .popover-menu ul li:hover {
                    background-color: #f0f0f0;
                }

    .popover-toggle {
        cursor: pointer;
        position: relative;
        font-size: 18px;
        padding: 5px;
    }

    .modal-fullscreen {
        width: 100%;
        max-width: none;
        height: 100%;
        margin: 0;
        padding: 0;
    }

        .modal-fullscreen .modal-content {
            height: 100%;
            border: none;
            border-radius: 0;
        }

        .modal-fullscreen .modal-body {
            overflow-y: auto;
        }

    .modal-header {
        padding: 5px 10px; /* Reduce padding */
        min-height: 30px; /* Set a minimum height */
    }

        .modal-header .modal-title {
            font-size: 14px; /* Decrease font size */
        }

        .modal-header .close {
            font-size: 16px; /* Adjust close button size */
            padding: 0 5px; /* Reduce padding */
        }
</style>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/fontawesome.min.css" />
@*<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>*@
@*<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">*@
<script src="~/Scripts/jquery-3.4.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>

<script src="~/Scripts/jquery-ui.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="~/Scripts/jquery-ui-timepicker-addon.min.js"></script>
<link href="~/Scripts/css/jquery-ui.min.css" rel="stylesheet" />
<link href="~/Scripts/css/jquery-ui-timepicker-addon.min.css" rel="stylesheet" />

<!--below files are used to update appointment when ever new record is inserted in firebase database -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const canvas = document.getElementById("drawingCanvas");
        const ctx = canvas.getContext("2d");

        // Set canvas dimensions
        canvas.width = document.querySelector(".content").offsetWidth;
        canvas.height = 600; // Adjust as needed

        // Canvas styles
        canvas.style.border = "1px solid #ccc";
        canvas.style.borderRadius = "5px";
        canvas.style.cursor = "crosshair";

        let isDrawing = false;

        // Mouse events
        canvas.addEventListener("mousedown", (e) => {
            isDrawing = true;
            ctx.beginPath();
            ctx.moveTo(e.offsetX, e.offsetY);
        });

        canvas.addEventListener("mousemove", (e) => {
            if (isDrawing) {
                ctx.lineTo(e.offsetX, e.offsetY);
                ctx.stroke();
            }
        });

        canvas.addEventListener("mouseup", () => {
            isDrawing = false;
        });

        canvas.addEventListener("mouseout", () => {
            isDrawing = false;
        });

        // Touch events (for stylus or fingers on mobile devices)
        canvas.addEventListener("touchstart", (e) => {
            e.preventDefault();
            const touch = e.touches[0];
            const rect = canvas.getBoundingClientRect();
            ctx.beginPath();
            ctx.moveTo(touch.clientX - rect.left, touch.clientY - rect.top);
        });

        canvas.addEventListener("touchmove", (e) => {
            e.preventDefault();
            const touch = e.touches[0];
            const rect = canvas.getBoundingClientRect();
            ctx.lineTo(touch.clientX - rect.left, touch.clientY - rect.top);
            ctx.stroke();
        });

        canvas.addEventListener("touchend", (e) => {
            e.preventDefault();
        });

        // Optional: Clear button for the canvas
        window.clearCanvas = function () {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        };
    });

    document.addEventListener("DOMContentLoaded", function () {
        const canvas = document.getElementById("drawingCanvas1");
        const ctx = canvas.getContext("2d");

        // Set canvas dimensions
        canvas.width = document.querySelector(".content").offsetWidth;
        canvas.height = 600; // Adjust as needed

        // Canvas styles
        canvas.style.border = "1px solid #ccc";
        canvas.style.borderRadius = "5px";
        canvas.style.cursor = "crosshair";

        let isDrawing = false;

        // Mouse events
        canvas.addEventListener("mousedown", (e) => {
            isDrawing = true;
            ctx.beginPath();
            ctx.moveTo(e.offsetX, e.offsetY);
        });

        canvas.addEventListener("mousemove", (e) => {
            if (isDrawing) {
                ctx.lineTo(e.offsetX, e.offsetY);
                ctx.stroke();
            }
        });

        canvas.addEventListener("mouseup", () => {
            isDrawing = false;
        });

        canvas.addEventListener("mouseout", () => {
            isDrawing = false;
        });

        // Touch events (for stylus or fingers on mobile devices)
        canvas.addEventListener("touchstart", (e) => {
            e.preventDefault();
            const touch = e.touches[0];
            const rect = canvas.getBoundingClientRect();
            ctx.beginPath();
            ctx.moveTo(touch.clientX - rect.left, touch.clientY - rect.top);
        });

        canvas.addEventListener("touchmove", (e) => {
            e.preventDefault();
            const touch = e.touches[0];
            const rect = canvas.getBoundingClientRect();
            ctx.lineTo(touch.clientX - rect.left, touch.clientY - rect.top);
            ctx.stroke();
        });

        canvas.addEventListener("touchend", (e) => {
            e.preventDefault();
        });

        // Optional: Clear button for the canvas
        window.clearCanvas1 = function () {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        };
    });
</script>

</head>

<body>
    <div class="container mt-3">
        <!-- Header Section -->
        <div class="header row align-items-center pb-0 pt-0 px-0 ">
            <div class="uppertools py-3">
                <div class="firstlayertool">
                    <div class="layerTop">
                        <div class="toplayer">
                            <div class="layerLabel">medicine</div>
                            <div class="layerinput"><button readonly type="button" class="singleinput btn btn-icon"><i class="fa fa-pen"></i></button></div>
                        </div>
                    </div>
                    <div class="layerbottom">
                        <div class="toplayer">
                            <div class="layerLabel">Days</div>
                            <div class="layerinput"><button readonly type="button" class="singleinput btn btn-icon"><i class="fa fa-pen"></i></button></div>
                        </div>
                    </div>
                </div>
                <div class="secondlayertool">
                    <div class="layerTop">
                        <div class="toplayer">
                            <div class="layerinput"><textarea readonly type="text" class="singletextarea"></textarea></div>
                        </div>
                        <div class="toplayer">
                            <div class="layerinput"><button readonly type="button" class="singleinput btn btn-icon"><i class="fa fa-pen"></i></button></div>
                            <div class="layerLabel">print</div>
                        </div>
                        <div class="toplayer">
                            <div class="layerinput"><button readonly type="button" class="singleinput btn btn-icon"><i class="fa fa-pen"></i></button></div>
                            <div class="layerLabel">share</div>
                        </div>
                    </div>
                    <div class="layerbottom">
                        <div class="toplayer">
                            <div class="layerinput"><button readonly type="button" class="singleinput btn btn-icon"><i class="fa fa-pen"></i></button></div>
                            <div class="layerLabel">Pen</div>
                        </div>
                        <div class="toplayer">
                            <div class="layerinput"><button readonly type="button" class="singleinput btn btn-icon"><i class="fa fa-pen"></i></button></div>
                            <div class="layerLabel">Eraser</div>
                        </div>
                        <div class="toplayer">
                            <div class="layerinput"><button readonly type="button" class="singleinput btn btn-icon"><i class="fa fa-pen"></i></button></div>
                            <div class="layerLabel">New Page</div>
                        </div>
                        <div class="toplayer">
                            <div class="layerinput"><button readonly type="button" class="singleinput btn btn-icon"><i class="fa fa-pen"></i></button></div>
                            <div class="layerLabel">Perscriptions</div>
                        </div>
                        <div class="toplayer">
                            <div class="layerinput"><button readonly type="button" class="singleinput btn btn-icon"><i class="fa fa-pen"></i></button></div>
                            <div class="layerLabel">Report</div>
                        </div>
                    </div>
                </div>
                <div class="thirdayertool">
                    <div class="toplayer">
                        <div class="layerinput"><button readonly type="button" class="singleinput btn btn-icon"><i class="fa fa-pen"></i></button></div>
                        <div class="layerLabel">Next</div>
                    </div>
                </div>
            </div>
            <div class="middletools">
                <div class="col-4 text-center middlefirstlayer">
                    <div class="firstmiddle">
                        <i class="fa fa-heart text-danger"></i>
                    </div>
                    <div class="middlelastLayer">
                        <div class="docname">Rd</div>
                        <div class="docnamesmall"><small>Dr. Sunil (BHMS)</small></div>
                    </div>
                </div>

                <div class="col-4 d-flex justify-content-end align-items-end flex-column text-center">
                    <p class="mainHeading">Patient: Kaku</p>
                    <p class="subheading"><small>2 years | Male</small></p>
                    <p class="subheading"><small>UID: A0001</small></p>
                    <p class="subheading"><small>Mob: 9996710723</small></p>
                </div>
            </div>
        </div>

        <!-- Content Section -->
        <div class="content row p-0">
            <canvas id="drawingCanvas"></canvas>
        </div>
        <div class="text-center mt-2">
            <button class="btn btn-danger" onclick="clearCanvas()">Clear</button>
        </div>
        <!-- Footer Section -->
        <div class="footer">
            a, b, Bahadurgarh, Haryana, Email: drsunil@gmail.com, Contact: 9541637905
        </div>
    </div>

    <!-- Button to Open Modal -->
    <button class="btn btn-primary" data-toggle="modal" data-target="#canvasModal">Open Canvas</button>

    <!-- Modal -->
    <div class="modal fade" id="canvasModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Draw on Canvas</h5>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <canvas id="drawingCanvas1"></canvas>
                </div>
                <div class="modal-footer">
                    <button id="clearCanvas1" onclick="clearCanvas1()" class="btn btn-danger">Clear</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>






